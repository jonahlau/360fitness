!function(e){"use strict";function t(t){return e(t).data("tesla_themes")}function a(t,a,n){var s=e(t).data("tesla_themes"),r=void 0;return void 0!==s&&void 0!==s[a]&&void 0!==s[a][n]&&(r=s[a][n]),r}function n(t,a,n,s,r){var i;t=e(t),i=t.data("tesla_themes"),void 0===i?(i={},i[a]={},i[a][n]={type:s,value:r}):void 0===i[a]?(i[a]={},i[a][n]={type:s,value:r}):i[a][n]={type:s,value:r},t.data("tesla_themes",i)}e.tesla_responsive=function(t){var a,n,s,r,i;return e.isArray(t)&&(a=e(window),n=t.length,n&&(t.sort(function(e,t){return t.width-e.width}),i=function(){for(var e=a.width(),i=0;n>i&&e<t[i].width;)i++;s=n>i?i:void 0,r!==s&&(r=s,void 0!==s&&t[s].action())},a.resize(i),i())),i},e.fn.tesla_slider=function(t){return this.each(function(s,r){var i,o,l,c,u,d,f,v,m,p,h=e(r),g=e.extend({item:".item",next:".next",prev:".prev",container:h,autoplay:!0,autoplaySpeed:4e3,autoplayResume:4e3,bullets:'[data-tesla-plugin="bullets"]'},t,{item:h.attr("data-tesla-item"),next:h.attr("data-tesla-next"),prev:h.attr("data-tesla-prev"),container:h.attr("data-tesla-container"),autoplay:"false"!==h.attr("data-tesla-autoplay"),autoplaySpeed:h.attr("data-tesla-autoplay-speed")?parseInt(h.attr("data-tesla-autoplay-speed"),10):h.attr("data-tesla-autoplay-speed"),autoplayResume:h.attr("data-tesla-autoplay-resume")?parseInt(h.attr("data-tesla-autoplay-resume"),10):this.autoplaySpeed,bullets:h.attr("data-tesla-bullets"),active:h.attr("data-tesla-active")}),y=g.container instanceof jQuery?g.container:h.find(g.container),b=y.find(g.item),w=h.find(g.bullets),_=h.find(g.next),C=h.find(g.prev),k=b.length-1,x=0;0>=k||(n(h,"slider","tesla_remove","removed",!1),i=function(){var e,t=x;x--,0>x&&(x=k),e=x,y.css({height:Math.max(b.eq(t).outerHeight(!0),b.eq(e).outerHeight(!0))}),b.eq(t).stop(!0,!0).fadeOut(1e3,function(){}),b.eq(x).stop(!0,!0).fadeIn(1e3,function(){y.css({height:b.eq(e).outerHeight(!0)})}),w.trigger("teslaSliderChange",{index:x})},o=function(){var e,t=x;x++,x>k&&(x=0),e=x,y.css({height:Math.max(b.eq(t).outerHeight(!0),b.eq(e).outerHeight(!0))}),b.eq(t).stop(!0,!0).fadeOut(1e3,function(){}),b.eq(x).stop(!0,!0).fadeIn(1e3,function(){y.css({height:b.eq(e).outerHeight(!0)})}),w.trigger("teslaSliderChange",{index:x})},l=function(e){if(e!==x){var t,a=x;x=e,x>k&&(x=0),0>x&&(x=k),t=x,y.css({height:Math.max(b.eq(a).outerHeight(!0),b.eq(t).outerHeight(!0))}),b.eq(a).stop(!0,!0).fadeOut(1e3,function(){}),b.eq(x).stop(!0,!0).fadeIn(1e3,function(){y.css({height:b.eq(t).outerHeight(!0)})}),w.trigger("teslaSliderChange",{index:x})}},u=function(){y.css({position:"relative",height:b.eq(x).outerHeight(!0)}),b.css({position:"absolute",top:0,left:0,right:0}),b.filter(":gt(0)").css({display:"none"}),e(window).resize(function(){y.css({height:b.eq(x).outerHeight(!0)})})},c=function(){u(),C.click(function(e){return m(),i(),p(),e.preventDefault?void e.preventDefault():!1}),n(h,"slider","prev","event",C),_.click(function(e){return m(),o(),p(),e.preventDefault?void e.preventDefault():!1}),n(h,"slider","next","event",_),w.on("teslaBulletsClick",function(e,t){return m(),l(t.index),p(),e.preventDefault?void e.preventDefault():!1}),n(h,"slider","bullets","bullets",w),b.hover(function(){m()},function(){m(),p()}),v=function(){g.autoplay&&(d=setInterval(o,g.autoplaySpeed),n(h,"slider","autoplay_interval","interval",d))},m=function(){g.autoplay&&(clearInterval(d),clearTimeout(f))},p=function(){g.autoplay&&(f=setTimeout(v,g.autoplayResume),n(h,"slider","autoplay_timeout","timeout",f))},v()},imagesLoaded?imagesLoaded(y[0],function(){a(h,"slider","tesla_remove").value||c()}):c())})},e.fn.tesla_masonry=function(t){return this.each(function(s,r){var i,o=e(r),l=e.extend({filters:'[data-tesla-plugin="filters"]'},t,{filters:o.attr("data-tesla-filters")}),c=e(l.filters),u=o.children();n(o,"masonry","tesla_remove","removed",!1),i=function(){o.masonry(),c.length&&(c.on("teslaFiltersChange",function(e,t){var a,n=t.categories.length,s="",r=o.data("masonry");for(a=0;n>a;a++)a&&(s+=", "),s+="."+t.categories[a];""===s?(r.options.itemSelector=void 0,u.stop(!0,!0).fadeIn(400)):(r.options.itemSelector=s,u.stop(!0,!0),u.filter(s).fadeIn(400),u.not(s).fadeOut(400)),r.reloadItems(),r.layout()}),n(o,"masonry","filters","filters",c))},e.fn.masonry&&(imagesLoaded?imagesLoaded(r,function(){a(o,"masonry","tesla_remove").value||i()}):i())})},e.fn.tesla_filters=function(t){return this.each(function(a,s){var r=e(s),i=e.extend({categories:"[data-category]"},t,{categories:r.attr("data-tesla-category")}),o=r.find(i.categories);o.click(function(t){var a,n=e(this);return n.hasClass("active")?""===n.attr("data-category")?(o.filter('[data-category=""]').removeClass("active"),o.filter('[data-category!=""]').addClass("active")):(o.filter(n).removeClass("active"),o.filter(".active").length||o.filter('[data-category=""]').addClass("active")):""===n.attr("data-category")?(o.filter('[data-category=""]').addClass("active"),o.filter('[data-category!=""]').removeClass("active")):(o.filter('[data-category=""]').removeClass("active"),o.filter(n).addClass("active")),a=o.filter('.active[data-category!=""]').map(function(){return e(this).attr("data-category")}).get(),r.trigger("teslaFiltersChange",{categories:a}),t.preventDefault?void t.preventDefault():!1}),n(r,"filters","categories","event",o)})},e.fn.tesla_bullets=function(t){return this.each(function(a,s){var r=e(s),i=e.extend({bullets:">*",hover:!1},t,{bullets:r.attr("data-tesla-selector"),hover:r.attr("data-tesla-hover")}),o=r.find(i.bullets),l="0"===i.hover||"string"==typeof i.hover&&"false"===i.hover.toLowerCase()?!1:Boolean(i.hover),c=function(){r.trigger("teslaBulletsClick",{index:o.index(this)})};o.eq(0).addClass("active"),o.click(c),n(r,"bullets","bullets","event",o),l&&o.mouseover(c),r.on("teslaSliderChange",function(e,t){o.filter(".active").removeClass("active"),o.eq(t.index).addClass("active")}),n(r,"bullets","e","event",r)})},e.fn.tesla_carousel=function(t){return this.each(function(s,r){var i,o,l,c,u,d,f,v,m,p,h,g,y,b,w,_,C,k,x,q,I,S,z,D=e(r),H=e.extend({item:".item",next:".next",prev:".prev",container:D,rotate:!0,autoplay:!0,hideEffect:!0,autoplaySpeed:4e3,autoplayResume:4e3},t,{item:D.attr("data-tesla-item"),next:D.attr("data-tesla-next"),prev:D.attr("data-tesla-prev"),container:D.attr("data-tesla-container"),rotate:D.attr("data-tesla-rotate"),autoplay:D.attr("data-tesla-autoplay"),hideEffect:D.attr("data-tesla-hide-effect"),autoplaySpeed:D.attr("data-tesla-autoplay-speed")?parseInt(D.attr("data-tesla-autoplay-speed"),10):D.attr("data-tesla-autoplay-speed"),autoplayResume:D.attr("data-tesla-autoplay-resume")?parseInt(D.attr("data-tesla-autoplay-resume"),10):this.autoplaySpeed}),L=H.container instanceof jQuery?H.container:D.find(H.container),T=L.find(H.item),M=D.find(H.next),B=D.find(H.prev),E=0,R="0"===H.rotate||"string"==typeof H.rotate&&"false"===H.rotate.toLowerCase()?!1:Boolean(H.rotate),j="0"===H.autoplay||"string"==typeof H.autoplay&&"false"===H.autoplay.toLowerCase()?!1:Boolean(H.autoplay),O="0"===H.hideEffect||"string"==typeof H.hideEffect&&"false"===H.hideEffect.toLowerCase()?!1:Boolean(H.hideEffect);n(D,"carousel","tesla_remove","removed",!1),L=L.wrapInner("<div>").children(),n(D,"carousel","container","wrapper",L),q=function(){j&&(I(),void 0!==C?k=0:(k=setInterval(u,H.autoplaySpeed),n(D,"carousel","autoplay_interval","interval",k)))},I=function(){j&&(clearInterval(k),k=void 0,clearTimeout(x),x=void 0)},S=function(){j&&(I(),void 0!==C?x=0:(x=setTimeout(q,H.autoplayResume),n(D,"carousel","autoplay_timeout","timeout",x)))},c=function(){return E>0?(O&&T.eq(E+o-1).css({"-webkit-transform":"scale(0)","-moz-transform":"scale(0)","-ms-transform":"scale(0)","-o-transform":"scale(0)",transform:"scale(0)"}),j||E!==i||M.removeClass("disabled"),E--,j||0!==E||B.addClass("disabled"),O&&T.eq(E).css({"-webkit-transform":"scale(1)","-moz-transform":"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)",transform:"scale(1)"}),L.css({left:String(100*-E/o)+"%"}),!0):!1},l=function(){void 0===C&&(c()||R&&i>E&&(clearInterval(C),C=setInterval(function(){d()||(clearInterval(C),C=void 0)},200),n(D,"carousel","rotate_interval","interval",C)))},d=function(){return i>E?(O&&T.eq(E).css({"-webkit-transform":"scale(0)","-moz-transform":"scale(0)","-ms-transform":"scale(0)","-o-transform":"scale(0)",transform:"scale(0)"}),j||0!==E||B.removeClass("disabled"),E++,j||E!==i||M.addClass("disabled"),O&&T.eq(E+o-1).css({"-webkit-transform":"scale(1)","-moz-transform":"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)",transform:"scale(1)"}),L.css({left:String(100*-E/o)+"%"}),!0):!1},u=function(){void 0===C&&(d()||R&&E>0&&(clearInterval(C),clearInterval(k),clearTimeout(x),C=setInterval(function(){c()||(clearInterval(C),C=void 0,void 0!==k&&q(),void 0!==x&&S())},200),n(D,"carousel","rotate_interval","interval",C)))},f=function(){h()},v=function(){h()},m=function(){h()},p=function(){h()},h=function(){_=Math.max.apply(null,T.map(function(){return e(this).outerHeight(!0)}).get()),w=T.outerWidth(!0),o=Math.round(L.width()/w),i=Math.max(T.length-o,0),E=Math.min(E,i),i?(j||0!==E?B.removeClass("disabled"):B.addClass("disabled"),j||E!==i?M.removeClass("disabled"):M.addClass("disabled")):(B.addClass("disabled"),M.addClass("disabled")),L.css({position:"relative",height:_,"-webkit-transition":"left 0.4s ease-out","-moz-transition":"left 0.4s ease-out","-ms-transition":"left 0.4s ease-out","-o-transition":"left 0.4s ease-out",transition:"left 0.4s ease-out",left:String(100*-E/o)+"%"}),T.css({position:"absolute",top:0,"-webkit-transition":"-webkit-transform 0.4s ease-out","-moz-transition":"-webkit-transform 0.4s ease-out","-ms-transition":"-webkit-transform 0.4s ease-out","-o-transition":"-webkit-transform 0.4s ease-out",transition:"-webkit-transform 0.4s ease-out"}).each(function(t){e(this).css({left:String(100*t/o)+"%"})}),g()},g=function(){O&&(T.filter(":gt("+String(o)+"),:eq("+String(o)+"),:lt("+String(E)+")").css({"-webkit-transform":"scale(0)","-moz-transform":"scale(0)","-ms-transform":"scale(0)","-o-transform":"scale(0)",transform:"scale(0)"}),T.filter(":gt("+String(E)+"):lt("+String(o)+"),:eq("+String(E)+")").css({"-webkit-transform":"scale(1)","-moz-transform":"scale(1)","-ms-transform":"scale(1)","-o-transform":"scale(1)",transform:"scale(1)"}))},b=[{width:0,action:f},{width:768,action:v},{width:992,action:m},{width:1200,action:p}],y=function(){z=e.tesla_responsive(b),n(D,"carousel","responsive_resize","responsive",z),B.click(function(e){return I(),S(),l(),e.preventDefault?void e.preventDefault():!1}),n(D,"carousel","prev","event",B),M.click(function(e){return I(),S(),u(),e.preventDefault?void e.preventDefault():!1}),n(D,"carousel","next","event",M),T.click(function(){I(),S()}),T.hover(function(){I()},function(){I(),S()}),n(D,"carousel","items","event",T),q()},imagesLoaded?imagesLoaded(L[0],function(){a(D,"carousel","tesla_remove").value||y()}):y()})},e.fn.tesla_news_ticker=function(t){return this.each(function(a,s){var r,i=e(s),o=e.extend({speed:20,item:".item",container:i},t,{speed:i.attr("data-tesla-speed"),item:i.attr("data-tesla-item"),container:i.attr("data-tesla-container")}),l=o.container instanceof jQuery?o.container:i.find(o.container),c=l.find(o.item);c.length&&(r=function(){var t,a,s;l.css({overflow:"hidden"}),l=c.wrapAll("<div>").parent().addClass("no-style"),l.css({overflow:"hidden"}),a=c.eq(0).clone(),c.last().after(a),c=c.add(a),c=c.wrap("<div>").parent().addClass("no-style"),c.css({"float":"left",overflow:"hidden"}),t=0,c.each(function(a,n){t+=e(n).width()}),t+=c.length,l.css({width:t}),s=function(){var e,t,a=function(){e=c.parent().children().first(),t=e.width()},s=function(){var r=parseInt(e.css("margin-left"),10)||0,l=t+r;e.animate({marginLeft:-t},{duration:l*o.speed,easing:"linear",queue:!1,start:function(){n(i,"news_ticker","item_current","animation",e)},done:function(){e.css({display:"none",marginLeft:0}).appendTo(e.parent()).css({display:"block"}),a(),s()}})};a(),s(),c.hover(function(){e.stop()},function(){s()})},setTimeout(s,1e3)})()})},e.fn.tesla_remove=function(){return this.each(function(a,s){var r,i,o=e(s),l=t(o);if(void 0!==l)for(r in l)if(void 0!==l[r]){n(o,r,"tesla_remove","removed",!0);for(i in l[r])switch(l[r][i].type){case"interval":clearInterval(l[r][i].value);break;case"timeout":clearTimeout(l[r][i].value);break;case"event":e(l[r][i].value).unbind().off();break;case"bullets":e(l[r][i].value).unbind().off().tesla_remove();break;case"filters":e(l[r][i].value).unbind().off().tesla_remove();break;case"responsive":e(window).unbind("resize",l[r][i].value);break;case"wrapper":e(l[r][i].value).contents().unwrap();break;case"animation":e(l[r][i].value).stop()}}})},e(function(){e('[data-tesla-plugin="slider"]').tesla_slider(),e('[data-tesla-plugin="carousel"]').tesla_carousel(),e('[data-tesla-plugin="masonry"]').tesla_masonry(),e('[data-tesla-plugin="filters"]').tesla_filters(),e('[data-tesla-plugin="bullets"]').tesla_bullets(),e('[data-tesla-plugin="news_ticker"]').tesla_news_ticker()})}(jQuery);